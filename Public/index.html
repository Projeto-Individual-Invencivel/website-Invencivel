<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto Individual</title>
    <link rel="stylesheet" href="./index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="./Assets/Icons/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="container-master">
        <div class="navBar">
            <div class="logo-website">
                <img src="./Assets/Images/logo-website.png" width="135em" height="70em" alt="imagem com o texto 'invencivel'">
            </div>
            <div class="box-links-home">
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#historia">História</a></li>
                    <li><a href="#personagens">Personagens</a></li>
                    <li><a href="#autor">Autor</a></li>
                </ul>
            </div>
            <div class="box-links-pages">
                <ul>
                    <li><a href="./Pages/Forum/forum.html">Fórum</a></li>
                    <li>|</li>
                    <li><a href="./Pages/Login/login.html">Login</a></li>
                    <li>|</li>
                    <li><a href="./Pages/Cadastro/cadastro.html">Cadastro</a></li>
                </ul>
            </div>
        </div>
        <div class="container-inicio" id="inicio">
            <div class="box-resumo-invencivel">
                <h1 >INVENCÍVEL</h1>
                <p>"Invincible" é uma série de animação para adultos baseada na série de quadrinhos de mesmo nome criada por Robert Kirkman, Cory Walker e Ryan Ottley. A história acompanha Mark Grayson, um jovem comum que descobre que seu pai é o super-herói mais poderoso do planeta, conhecido como Omni-Man. Mark herda os mesmos poderes de seu pai e decide seguir seus passos tornando-se o herói Invencível.</p>
            </div>
            <div class="box-img-invencivel">
                <img src="./Assets/Images/invencivel--home.png" height="100%" alt="heroi invencivel">
            </div>
        </div>
        <div class="container-historia" id="historia">
            <h1>HISTÓRIA</h1>
            <p>A história começa com Mark Grayson, um adolescente comum que descobre que seu pai é o super-herói mais poderoso do planeta, conhecido como Omni-Man, que é basicamente um alienígena. Mark herda os mesmos poderes de seu pai e decide seguir seus passos, tornando-se o herói Invencível.</p>
            <p>No entanto, a vida de Mark se torna cada vez mais complicada à medida que ele descobre segredos sombrios sobre seu pai e sua verdadeira missão na Terra. Ele descobre que os Viltrumitas têm planos para conquistar e colonizar outros planetas, incluindo a Terra. Nolan revela a Mark que ele foi enviado à Terra com o objetivo de conquista-lá, e sua missão era enfraquecer o planeta por dentro para facilitar a invasão Viltrumita.</p>
            <img src="./Assets/Images/img-invencivel.png"  alt="imagem do invencivel com o Omni-Man">
            <p>Mark luta para aceitar a verdade sobre seu pai e se vê confrontado com escolhas difíceis. Ele continua lutando contra ameaças tanto terrestres quanto intergalácticas, enquanto tenta proteger aqueles que ama. Ao longo da série, Mark enfrenta inúmeras tragédias, perdas e desafios pessoais, mas também encontra apoio e amizade em outros heróis e aliados.</p>
            <p>A trama se desenrola com reviravoltas chocantes, batalhas épicas e dilemas morais complexos. Mark enfrenta vilões poderosos, incluindo conquistadores alienígenas, mutantes, robôs gigantes e até mesmo outros Viltrumitas. Ele também se envolve em conflitos com outros heróis e governos, à medida que luta para proteger a Terra de ameaças de dentro e de fora.</p>
        </div>
        <div class="container-personagens" id="personagens">
            <div class="box-personagens">
                <h1>PERSONAGENS PRINCIPAIS</h1>
                <div class="carrossel">
                    <div class="slides">
                        <div class="slide">
                            <img src="./Assets/Images/img-nolan.png" height="240em" alt="">
                            <span>Nolan Grayson é um personagem central na série, ele é pai de Mark Grayson e é o herói conhecido como Omni-Man</span>
                        </div>
                        <div class="slide">
                            <img src="./Assets/Images/img-mark-grayson.png" height="240em" alt="">
                            <span>Mark Grayson é o personagem principal da série, ele é um adolescente comum que descobre que seu pai é Omni-Man.</span>
                        </div>
                        <div class="slide">
                            <img src="./Assets/Images/img-deby.png" height="240em" alt="">
                            <span>Ela é a esposa de Nolan Grayson  e mãe de Mark Grayson. Debbie desempenha um papel crucial na história.</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-autor" id="autor">
            <h1>SOBRE O AUTOR</h1>
            <div class="box-sobre-autor">
                <div class="box-img-autor">
                    <img src="./Assets/Images/robert-kirkman.png" height="95%" alt="">
                </div>
                <div class="box-texto-sobre">
                    <p>
                        Robert Kirkman é um renomado escritor de quadrinhos e produtor de televisão, mais conhecido por criar a série de quadrinhos "The Walking Dead". Nascido em 30 de novembro de 1978, Kirkman cresceu nos arredores de Lexington, Kentucky, nos Estados Unidos.
                    </p>
                    <p>
                        Em 2003, ele lançou "The Walking Dead", uma série em quadrinhos de horror e drama que rapidamente se tornou um fenômeno cultural, além de "The Walking Dead", Kirkman é conhecido por outras séries de quadrinhos de sucesso, incluindo "Invincible", uma série de super-heróis que também ganhou adaptação para uma série de animação, "Outcast", sobre possessões demoníacas, e "Oblivion Song", uma história de ficção científica sobre uma realidade paralela.
                    </p>
                </div>
            </div>
        </div>
        <div class="container-publico">
            <div class="box-onu">
                <div class="box-img-onu">
                    <img src="./Assets/Images/ods-3.jpg" alt="objetivo de desenvolvimento sustentavel 3" height="90%">
                </div>
                <span>A série contribuiu para o meu bem-estar porque durante a época de pandemia eu pude relaxar e esquecer um pouco que estavamos passando por essa crise, ajudou bastante a descontrair e espero que faça o mesmo com quem irá vê-la.</span>
            </div>
            <div class="box-grafico-publico">
                <canvas id="grafico-publico"></canvas>
            </div>
        </div>
        <div class="footer">
            <span>©BrunoGomes 2024 Todos os direitos reservados.</span>
        </div>
    </div>
</body>
</html>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>

    window.onload = () => {

        fetch('/usuarios/idade-publico', {
            method: 'GET',
            headers: {
                "Content-Type": "application/json"
            }
        }).then(resposta => {
            if(resposta.ok){
                resposta.json().then((data) => {

                    const idadeUsers = [0, 0, 0, 0, 0];


                    for(let i = 0; i < data.length; i++){
                        
                        const idade = data[i];
                        if((2024 - idade.anoNascimento) < 18){
                            idadeUsers[0]++   
                        } else if((2024 - idade.anoNascimento) <= 24){
                            idadeUsers[1]++
                        } else if((2024 - idade.anoNascimento) <= 29){
                            idadeUsers[2]++
                        } else if((2024 - idade.anoNascimento) <= 34){
                            idadeUsers[3]++
                        } else{
                            idadeUsers[4]++
                        }
                    }                    

                    const dadosPorcentagem = [];
                    idadeUsers.map((i) => {
                        dadosPorcentagem.push(((i / data.length) * 100).toFixed(2));
                    })

                    const grafico = document.getElementById('grafico-publico');
                    grafico.width = '100%';
                    new Chart(grafico, {
                        type: 'pie',
                        data: {
                            labels: ['Menores de 18', 'Entre 18 e 24 anos', 'Entre 25 e 29 anos', 'Entre 30 e 34 anos', '+34'],
                            datasets: [
                                {
                                    label: 'Porcentagem de presença',
                                    data: dadosPorcentagem,
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'left',
                                    labels: {
                                        font: {
                                            size: 18
                                        }
                                    }
                                },
                                title: {
                                    display: true,
                                    text: 'Idade do público que frequenta a plataforma',
                                    font: {
                                        size: 24,
                                        weight: '700'
                                    },
                                    margin: {
                                        top: 20
                                    }
                                }
                            }
                        }
                    })
                })
            } else{
                resposta.text().then(err => {
                    console.error(err);
                })
            }
        })
    }
</script>